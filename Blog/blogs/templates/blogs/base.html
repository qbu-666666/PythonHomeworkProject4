<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blog</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
    <h1>My Blog</h1>

    <!-- 改进的导航栏：保持同一行，样式更好 -->
    <div class="mb-4">
        {% if user.is_authenticated %}
            <span class="me-3">Hello, {{ user.username }}!</span>
            <a href="{% url 'new_post' %}" class="btn btn-outline-primary btn-sm me-2">New Post</a>
            
            <!-- 登出表单，显示为按钮，与其他元素同一行 -->
            <form action="{% url 'logout' %}" method="post" class="d-inline">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-secondary btn-sm">
                    Logout
                </button>
            </form>
        {% else %}
            <a href="{% url 'login' %}" class="btn btn-outline-success btn-sm">
                Login to create posts
            </a>
        {% endif %}
    </div>

    <hr>

    {% block content %}{% endblock %}
</body>
</html>