{% load static %}
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <title>{% block title %}Blog Project{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    {% block extrahead %}{% endblock %}
</head>
<body>
    <header>
        <h1><a href="{% url 'blog:index' %}">Blog Project</a></h1>
        <div class="nav-links">
            {% if user.is_authenticated %}
                欢迎, <strong>{{ user.username }}</strong> |
                <a href="{% url 'blog:profile' user.username %}">个人主页</a> |
                <a href="{% url 'blog:post_new' %}">发布文章</a> |
                <!-- 改为表单提交 -->
                <form action="{% url 'logout' %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" style="background:none;border:none;color:#a8d8ff;cursor:pointer;font-size:1em;padding:0;">
                        退出
                    </button>
                </form>
            {% else %}
                <a href="{% url 'login' %}">登录</a> |
                <a href="{% url 'blog:register' %}">注册</a>
            {% endif %}
        </div>
    </header>

    <div id="main-content">
        {% block content %}
        {% endblock %}
    </div>
</body>
</html>